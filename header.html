<header class="w-full bg-wow-card/90 backdrop-blur-md border-b border-wow-border sticky top-0 z-50 shrink-0">
    <div class="px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-4">
            <h1 class="text-xl font-bold text-white flex items-center gap-2 text-nowrap">
                <img src="channels4_profile.jpg" class="w-8 h-8 rounded-full shadow-md" alt="Dantaes">
                Farmers de Azeroth
            </h1>
        </div>
        
        <div class="flex items-center gap-4">
            <!-- Desktop Nav -->
            <nav class="hidden md:flex gap-6" id="main-nav">
                <a href="inicio.html" id="nav-inicio" class="text-gray-500 hover:text-white transition-colors text-sm font-bold">Inicio</a>
                <a href="index.html" id="nav-index" class="text-gray-500 hover:text-white transition-colors text-sm font-bold">Libro de ingresos</a>
                <a href="calculadora.html" id="nav-calc" class="text-gray-500 hover:text-white transition-colors text-sm font-bold">Calculadora de Farmeo</a>
                <a href="farmeos.html" id="nav-farmeos" class="text-gray-500 hover:text-white transition-colors text-sm font-bold">Farmeos Sugeridos</a>
            </nav>

            <!-- Mobile Menu Btn -->
            <button id="mobile-menu-btn" class="md:hidden text-gray-400 hover:text-white transition-colors">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Nav -->
    <nav id="mobile-nav" class="hidden md:hidden border-t border-wow-border bg-wow-card/95 backdrop-blur-md">
        <div class="flex flex-col p-4 gap-3">
            <a href="inicio.html" id="mobile-nav-inicio" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm font-bold flex items-center gap-3">
                <i class="fas fa-home w-5 text-center"></i> Inicio
            </a>
            <a href="index.html" id="mobile-nav-index" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm font-bold flex items-center gap-3">
                <i class="fas fa-book w-5 text-center"></i> Libro de ingresos
            </a>
            <a href="calculadora.html" id="mobile-nav-calc" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm font-bold flex items-center gap-3">
                <i class="fas fa-calculator w-5 text-center"></i> Calculadora de Farmeo
            </a>
            <a href="farmeos.html" id="mobile-nav-farmeos" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm font-bold flex items-center gap-3">
                <i class="fas fa-seedling w-5 text-center"></i> Farmeos Sugeridos
            </a>
        </div>
    </nav>
</header>

<script>
    (function() {
        const path = window.location.pathname;
        const page = path.split("/").pop() || "index.html";
        
        // Active Styles
        const activeClassDesktop = ["text-wow-gold", "border-b-2", "border-wow-gold", "pb-1"];
        const activeClassMobile = ["text-wow-gold", "bg-wow-gold/10", "border-l-4", "border-wow-gold"];
        
        let activeId = "nav-index";
        let mobileActiveId = "mobile-nav-index";

        if (page === "inicio.html") {
            activeId = "nav-inicio";
            mobileActiveId = "mobile-nav-inicio";
        } else if (page === "calculadora.html") {
            activeId = "nav-calc";
            mobileActiveId = "mobile-nav-calc";
        } else if (page === "farmeos.html") {
            activeId = "nav-farmeos";
            mobileActiveId = "mobile-nav-farmeos";
        }
        
        // Apply active state
        const activeLink = document.getElementById(activeId);
        if (activeLink) {
            activeLink.classList.remove("text-gray-500", "hover:text-white");
            activeLink.classList.add(...activeClassDesktop);
        }

        const activeMobileLink = document.getElementById(mobileActiveId);
        if (activeMobileLink) {
            activeMobileLink.classList.remove("text-gray-400", "hover:text-white", "hover:bg-white/5");
            activeMobileLink.classList.add(...activeClassMobile);
        }

        // Mobile Menu Toggle
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-nav');
        const icon = btn.querySelector('i');

        if(btn && menu) {
            btn.addEventListener('click', () => {
                menu.classList.toggle('hidden');
                
                // Toggle Icon
                if (menu.classList.contains('hidden')) {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                    btn.classList.remove('text-white');
                    btn.classList.add('text-gray-400');
                } else {
                    icon.classList.remove('fa-bars');
                    icon.classList.add('fa-times');
                    btn.classList.remove('text-gray-400');
                    btn.classList.add('text-white');
                }
            });
        }
    })();
</script>
