<header class="w-full bg-wow-card/90 backdrop-blur-md border-b border-wow-border sticky top-0 z-50 shrink-0">
    <div class="px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-4">
            <a href="/inicio.html" class="flex items-center gap-2 group">
                <img src="/channels4_profile.jpg" class="w-8 h-8 rounded-full shadow-md group-hover:scale-110 transition-transform" alt="Dantaes">
                <h1 class="text-xl font-bold text-white flex items-center gap-2 text-nowrap">
                    Farmers de Azeroth
                </h1>
            </a>
        </div>
        
        <div class="flex items-center gap-4">
            <!-- Desktop Nav -->
            <nav class="hidden md:flex gap-6 items-center" id="main-nav">
                <a href="/inicio.html" id="nav-inicio" class="text-gray-500 hover:text-white transition-colors text-sm font-bold">Inicio</a>
                
                <!-- Dropdown: Primeros Pasos -->
                <div class="dropdown relative">
                    <button id="nav-primeros-pasos-parent" class="text-gray-500 hover:text-white transition-colors text-sm font-bold flex items-center gap-1">
                        Primeros Pasos <i class="fas fa-chevron-down text-xs"></i>
                    </button>
                    <div class="dropdown-menu absolute top-full left-0 mt-2 bg-wow-card border border-wow-border rounded-lg shadow-xl min-w-[220px] opacity-0 invisible transition-all duration-200 transform -translate-y-2">
                        <a href="/pages/primeros-pasos.html" class="block px-4 py-3 text-wow-gold hover:text-white hover:bg-white/5 transition-colors text-sm font-bold border-b border-wow-border/50">
                            <i class="fas fa-compass"></i>Ver Hub Completo
                        </a>
                        <a href="/pages/consejos.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-lightbulb text-orange-400"></i>Consejos
                        </a>
                        <a href="/pages/recomendaciones.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-star text-red-400"></i>Recomendaciones
                        </a>
                        <a href="/pages/alterarmy.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-users text-purple-400"></i>Alterarmy
                        </a>
                        <a href="/pages/addons-macros.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-cog text-blue-400"></i>Addons & Macros
                        </a>
                        <a href="/pages/consumibles.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-flask text-green-400"></i>Consumibles
                        </a>
                        <a href="/pages/paginas-utiles.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-globe text-yellow-400"></i>Páginas Útiles
                        </a>
                    </div>
                </div>
                
                <!-- Dropdown: Profesiones -->
                <div class="dropdown relative">
                    <button id="nav-profesiones-parent" class="text-gray-500 hover:text-white transition-colors text-sm font-bold flex items-center gap-1">
                        Profesiones <i class="fas fa-chevron-down text-xs"></i>
                    </button>
                    <div class="dropdown-menu absolute top-full left-0 mt-2 bg-wow-card border border-wow-border rounded-lg shadow-xl min-w-[220px] opacity-0 invisible transition-all duration-200 transform -translate-y-2">
                        <a href="/pages/profesiones.html" class="block px-4 py-3 text-wow-gold hover:text-white hover:bg-white/5 transition-colors text-sm font-bold border-b border-wow-border/50">
                            <i class="fas fa-tools"></i>Ver Hub Completo
                        </a>
                        <a href="/pages/herboristeria.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-leaf text-green-500"></i>Herboristería
                        </a>
                        <a href="/pages/mineria.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-gem text-blue-400"></i>Minería
                        </a>
                        <a href="/pages/desuello.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-cut text-orange-400"></i>Desuello
                        </a>
                        <a href="/pages/sastreria.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-tshirt text-pink-400"></i>Sastrería
                        </a>
                        <a href="/pages/alquimia.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-flask text-green-400"></i>Alquimia
                        </a>
                        <a href="/pages/inscripcion.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-scroll text-yellow-400"></i>Inscripción
                        </a>
                        <a href="/pages/joyeria.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-ring text-cyan-400"></i>Joyería
                        </a>
                        <a href="/pages/encantamiento.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-magic text-purple-500"></i>Encantamiento
                        </a>
                        <a href="/pages/herreria.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-hammer text-gray-400"></i>Herrería
                        </a>
                        <a href="/pages/peleteria.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-vest text-orange-800"></i>Peletería
                        </a>
                        <a href="/pages/ingenieria.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-cog text-red-400"></i>Ingeniería
                        </a>
                        <a href="/pages/pesca-cocina.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-fish text-blue-300"></i>Pesca y Cocina
                        </a>
                    </div>
                </div>
                
                <!-- Dropdown: Farmeos -->
                <div class="dropdown relative">
                    <button id="nav-farmeos-parent" class="text-gray-500 hover:text-white transition-colors text-sm font-bold flex items-center gap-1">
                        Farmeos <i class="fas fa-chevron-down text-xs"></i>
                    </button>
                    <div class="dropdown-menu absolute top-full left-0 mt-2 bg-wow-card border border-wow-border rounded-lg shadow-xl min-w-[220px] opacity-0 invisible transition-all duration-200 transform -translate-y-2">
                        <a href="/pages/farmeos.html" class="block px-4 py-3 text-wow-gold hover:text-white hover:bg-white/5 transition-colors text-sm font-bold border-b border-wow-border/50">
                             <i class="fas fa-map"></i>Ver Hub Completo
                        </a>
                        <a href="/pages/farmeos-sin-profesion.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-hiking text-green-400"></i>Sin Profesión
                        </a>
                        <a href="/pages/farmeos-solo.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-user text-blue-400"></i>Solo Farms
                        </a>
                        <a href="/pages/farmeos-midnight.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-moon text-purple-400"></i>Farmeos Midnight
                        </a>
                        <a href="/pages/farmeos-sugeridos.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-seedling text-wow-gold"></i>Farmeos Sugeridos
                        </a>
                    </div>
                </div>
                
                <a href="/index.html" id="nav-oro" class="text-gray-500 hover:text-white transition-colors text-sm font-bold">Oro Ganado 2026</a>

                <!-- Dropdown: Herramientas -->
                <div class="dropdown relative">
                    <button id="nav-herramientas-parent" class="text-gray-500 hover:text-white transition-colors text-sm font-bold flex items-center gap-1">
                        Herramientas <i class="fas fa-chevron-down text-xs"></i>
                    </button>
                    <div class="dropdown-menu absolute top-full right-0 mt-2 bg-wow-card border border-wow-border rounded-lg shadow-xl min-w-[220px] opacity-0 invisible transition-all duration-200 transform -translate-y-2">
                        <a href="/pages/calculadora.html" id="nav-calc" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-calculator"></i>Calculadora
                        </a>
                        <a href="/pages/flipping.html" class="block px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 transition-colors text-sm">
                            <i class="fas fa-chart-line text-blue-400"></i>Flipping
                        </a>
                    </div>
                </div>
            </nav>

            <!-- Mobile Menu Btn -->
            <button id="mobile-menu-btn" class="md:hidden text-gray-400 hover:text-white transition-colors">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Nav -->
    <nav id="mobile-nav" class="hidden md:hidden border-t border-wow-border bg-wow-card/95 backdrop-blur-md">
        <div class="flex flex-col p-4 gap-3">
            <a href="/inicio.html" id="mobile-nav-inicio" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm font-bold flex items-center gap-3">
                <i class="fas fa-home w-5 text-center"></i> Inicio
            </a>
            
            <!-- Mobile Primeros Pasos Section -->
            <div class="border-t border-wow-border pt-2 mt-1">
                <div class="text-gray-600 text-xs font-bold px-4 py-2">PRIMEROS PASOS</div>
                <a href="/pages/primeros-pasos.html" id="mobile-nav-primeros" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm flex items-center gap-3 font-bold text-wow-gold/80">
                    <i class="fas fa-compass w-5 text-center"></i> Hub Primeros Pasos
                </a>
                <a href="/pages/consejos.html" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm flex items-center gap-3">
                    <i class="fas fa-lightbulb w-5 text-center text-orange-400"></i> Consejos
                </a>
                <a href="/pages/recomendaciones.html" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm flex items-center gap-3">
                    <i class="fas fa-star w-5 text-center text-red-400"></i> Recomendaciones
                </a>
            </div>
            
            <!-- Mobile Profesiones Section -->
            <div class="border-t border-wow-border pt-2 mt-1">
                <div class="text-gray-600 text-xs font-bold px-4 py-2">PROFESIONES</div>
                <a href="/pages/profesiones.html" id="mobile-nav-profesiones" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm flex items-center gap-3 font-bold text-wow-gold/80">
                    <i class="fas fa-tools w-5 text-center"></i> Hub Profesiones
                </a>
            </div>
            
            <!-- Mobile Farmeos Section -->
            <div class="border-t border-wow-border pt-2 mt-1">
                <div class="text-gray-600 text-xs font-bold px-4 py-2">FARMEOS</div>
                <a href="/pages/farmeos.html" id="mobile-nav-farmeos" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm flex items-center gap-3 font-bold text-wow-gold/80">
                    <i class="fas fa-map w-5 text-center"></i> Hub Farmeos
                </a>
                <a href="/pages/farmeos-sugeridos.html" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm flex items-center gap-3">
                    <i class="fas fa-seedling w-5 text-center text-wow-gold"></i> Farmeos Sugeridos
                </a>
            </div>
            
            <a href="/index.html" id="mobile-nav-oro" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm font-bold flex items-center gap-3">
                <i class="fas fa-coins w-5 text-center"></i> Oro Ganado 2026
            </a>
            
            <!-- Mobile Herramientas Section -->
            <div class="border-t border-wow-border pt-2 mt-1">
                <div class="text-gray-600 text-xs font-bold px-4 py-2">HERRAMIENTAS</div>
                <a href="/pages/calculadora.html" id="mobile-nav-calc" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm flex items-center gap-3">
                    <i class="fas fa-calculator w-5 text-center"></i> Calculadora
                </a>
                <a href="/pages/flipping.html" class="text-gray-400 hover:text-white hover:bg-white/5 px-4 py-3 rounded-lg transition-all text-sm flex items-center gap-3">
                    <i class="fas fa-chart-line w-5 text-center text-blue-400"></i> Flipping
                </a>
            </div>
        </div>
    </nav>
</header>

<script>
    (function() {
        const path = window.location.pathname;
        const page = path.split("/").pop() || "index.html";
        
        let activeId = null;
        let mobileActiveId = null;
        let parentId = null;

        // Determination of active link and parent dropdown
        if (page === "inicio.html") {
            activeId = "nav-inicio";
            mobileActiveId = "mobile-nav-inicio";
        } else if (page === "index.html") {
            activeId = "nav-oro";
            mobileActiveId = "mobile-nav-oro";
        } else if (["consejos.html", "recomendaciones.html", "alterarmy.html", "addons-macros.html", "consumibles.html", "paginas-utiles.html", "primeros-pasos.html"].includes(page)) {
            parentId = "nav-primeros-pasos-parent";
            if (page === "primeros-pasos.html") mobileActiveId = "mobile-nav-primeros";
        } else if (["herboristeria.html", "mineria.html", "desuello.html", "sastreria.html", "alquimia.html", "inscripcion.html", "joyeria.html", "encantamiento.html", "herreria.html", "peleteria.html", "ingenieria.html", "pesca-cocina.html", "profesiones.html"].includes(page)) {
            parentId = "nav-profesiones-parent";
            if (page === "profesiones.html") mobileActiveId = "mobile-nav-profesiones";
        } else if (["farmeos-sin-profesion.html", "farmeos-solo.html", "farmeos-midnight.html", "farmeos.html"].includes(page)) {
            parentId = "nav-farmeos-parent";
            if (page === "farmeos.html") mobileActiveId = "mobile-nav-farmeos";
        } else if (page === "calculadora.html") {
            parentId = "nav-herramientas-parent";
            mobileActiveId = "mobile-nav-calc";
        }

        // Apply active state
        if (activeId) {
            const el = document.getElementById(activeId);
            if (el) el.classList.add("nav-link-active");
        }
        if (parentId) {
            const el = document.getElementById(parentId);
            if (el) el.classList.add("nav-link-active");
        }
        if (mobileActiveId) {
            const el = document.getElementById(mobileActiveId);
            if (el) el.classList.add("mobile-nav-link-active");
        }

        // Mobile Menu Toggle
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-nav');
        const icon = btn?.querySelector('i');

        if(btn && menu) {
            btn.addEventListener('click', () => {
                menu.classList.toggle('hidden');
                if (menu.classList.contains('hidden')) {
                    icon.className = 'fas fa-bars text-xl';
                    btn.className = 'md:hidden text-gray-400 hover:text-white transition-colors';
                } else {
                    icon.className = 'fas fa-times text-xl';
                    btn.className = 'md:hidden text-white transition-colors';
                }
            });
        }
    })();
</script>
